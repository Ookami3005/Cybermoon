[<- Índice](../AnalisisMalware.md)
# Análisis de Malware

> Una mirada profunda a las entrañas del *Malware*

## Temario

1. Conceptos básicos de *Malware*
2. Funcionalidad del *Malware*
3. Laboratorio de análisis de *Malware*
4. Análisis de *malware* básico
5. Análisis de *malware* dinámico
6. Distribución de *malware*

# Conceptos básicos de *malware*
## ¿Qué es el *malware*?

> El nombre proviene de la combinación de los terminos ***Mal**icious Soft**ware***

Es un *software* utilizado para realizar acciones maliciosas dentro de un sistema informático

El *Malware* juega un papel importante en la intrusión sobre un equipo de cómputo y los incidentes de seguridad a los que nos enfrentamos día a día en el ámbito de la ciberseguridad.

El malware tambien se puede describir como código que ejecuta acciones maliciosas y puede tomar la forma de un ejecutable, un *script*, código o cualquier *software*

## Objetivos del *malware*

- Robo de información sensible (personal, financiera y de negocio)
- Ganar un acceso no autorizado al equipo o servidor de la víctima
- Espionaje
- Envío de *spam*
- Ejecutar ataques de denegación de servicio
- Tomar control del sistema infectado
- Interrumpir la operativa del sistema infectado

## Tipos de *malware*

Durante el análisis, es importante identificar el tipo de *malware* al que nos enfrentamos.

Es por ella que a través de los años y la aportación de múltiples especialistas en la materia, se han logrado estableces clasificaciones para cada tipo de *malware*.

El malware se clasifica en función de los efectos y la forma de infectar el sistema.

- **Ransomware**
- **Backdoor**
- **Botnet**
- **Dropper**
- **Rootkit**
- **Downloader**
- **Worms**
- **Scareware**

# ¿Qué es el análisis de *malware*?

Podemos dividir la respuesta y objetivos en 3 rubros importantes:

| Investigar                                                                                                                                                      | Responder                                                                                                 | Estrategia                                                           |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| Proceso que permite determinar acciones, objetivo y el impacto que tiene una muestra de *software* maliciosa a través de metodologías, técnicas y herramientas. | Provee la información necesaria para responder a una intrusión dentro de la red de cualquier organización | Permite desplegar firmas basadas en *hosts* y firmas basadas en red. |

> El desarrollo de *malware* se enfoca principalmente en *Windows* ya que es una plataforma enormemente utilizada en el ámbito profesional, además de considerarse más vulnerable a *malware* que otras.

## ¿Para qué hacer análisis de malware?

### - Enfoque técnico

- Identificación de indicadores de compromiso (todo aquello que nos da información acerca de una muestra de *malware*)
- Determinar el nivel de amenza al cual se enfrenta un equipo de respuesta
- Desarrollo de nuevas herramientas o mejora en las ya existentes

### - Enfoque de negocio

- Identificar daños en la organización
- Identificación de medios de propagación
- Conocer el nivel de impacto en la organización
- Generación de estrategias

### - Enfoque de investigación

- Determinar los objetivos del *malware* y posibles campañas dirigidas a grupos o sectores
- Responde preguntas para obtener patrones de comportamiento concretos
- Rastreo de origen de la amenaza

## Objetivos del análisis de *malware*

- Conocer las características principales del *malware* y el impacto que generan en sistemas informáticos.

- Definir los principales mecanismos de defensa antes los indicadores de compromiso. 

---

## Etapas de respuesta a un ataque de *malware*

### Equipo infectado

- Contener el equipo de manera preventiva
- Realizar análisis de logs de equipo de cómputo

### Análisis de malware

- Conocer el comportamiento del *malware*
- Identificar el tipo de amenaza a la cual se enfrenta el equipo
- Identificar mecanismos de persistencia y propagación
- Entregar el reporte de análisis de *malware*

### Análisis forense

- Obtener información que pueda apoyar a la investigación
- Ayudar a conocer la cadena de infección y determinar si se completaron todas las fases de la ejecucución del *malware*
- Entregar un reporte

### Siguientes pasos

- Ejecutar las fases de erradicación y recuperación
- Desarrollar un reporte del incidente para la alta dirección
- Gestionar todos los indicadores de compromisos asociados a la amenaza
- Ejecutar la fase de lecciones aprendidas
---

## Actor de amenaza

> Es un individuo, organización o grupo criminal que ejecuta acciones para comprometer la seguridad de los sistemas informáticos, las redes o los datos.

Tienen diversas motivaciones, dentro de las cuales se encuentran las ganancias financieras, el espionaje, el activismo y la política.

Los actores de amenaza más comunes son el crimen organizado, grupos de *hacktivismo*, grupos financiados por gobiernos y amenazas internas.

### ¿Cómo identificar a un actor de amenaza?

- Identificar a un actor de amenaza
- Entender las motivaciones de un actor de amenaza

---

## Indicadores de compromiso (IoC)

> Son cualquier tipo de información que indican la alteración o fallo de seguridad que puede ayudar a los equipos de seguridad a determinar si se ha producido un ataque.

Los ataques dejan rastros de pruebas, tal como metadatos, direcciones IP implicadas, URLs y otros detalles técnicos.

Los *Indicadores* pueden obtenerse por varios métodos, entre los que se incluyen:

- **Observación**: Observar actividades o comportamientos anormales en usuarios, sistemas o dispositivos.

- **Análisis**: Determinar las caracteristicas de la actividad sospechosa y analizar su impacto

- **Firmas**: Identificar las firmas de *software* malicioso

### Tipos habituales de IoC

- **Indicadores basados en red**: Como direcciones *IP*, dominios o *URL*s maliciosas. Tambien pueden incluir tráfico de red, actividad inusual del puerto, conexiones de red a *hosts* maliciosos conocidos o patrones de exfiltración de datos.

- **Indicadores basados en host**: Están relacionados con la actividad en una estación de trabajo o servidor, como los nombres de archivo *hash*, las claves de registro o los procesos sospechosos que se ejecutan en el *host*

- **Indicadores de comportamiento**: Cubren varios tipos de comportamiento sospechoso, como como comportamientos extraños de los usuarios, patrones de inicio de sesión, patrones de tráfico de red e intentos de autentificación.

- **Indicadores de metadatos**: Tienen que ver los metadatos asociados a un archivo o dicumento, como autor, fecha de creación o los detalles de la versión.

# Enlaces

[Siguiente ->](HFC14_10_2024.md)