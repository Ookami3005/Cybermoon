[<- Índice](../Pentesting.md)
# Reconocimiento

> Una vez completa la fase de ***Pre-Compromiso***, se da pie a la fase de ***Reconocimiento***. Básicamente se busca recopilar toda la información disponible de la compañía, empleados, infraestructura y organización. Recordemos, esta e una de las fases más ***vitales*** y ***frecuentes*** durante toda la prueba.

Todas las decisiones posteriores sobre la explotación y demas fases del sistema están ***totalmente basadas*** en la información que podamos reunir en esta fase y su resultado puede verse directamente influido también.

El ***Reconocimiento*** se divide principalmente en 4 categorías.

- Información de Fuentes Públicas (*OSINT* por sus siglas en inglés)
- Enumeración de la Infraestructura
- Enumeración de Servicios
- Enumeración de Dispositivos
 
No olvidemos que la información proviene de muchas fuentes y en muchos formatos, por lo que es clave la interpretación adecuada de todos los datos extraídos.

### Información de Fuentes Públicas (OSINT)

> Es el proceso de recopilar toda la información disponible en ***Fuentes Públicas de Información***, como lo son muchos recursos en el Internet. Principalmente se busca investigar cuanta información sensible podemos averiguar de la compañia desde el Internet y cualquier otra fuente permitida, sin interactuar directamente con el objetivo.

Muchas veces, es posible encontrar hasta contraseñas, llaves, tokens y demás información sensible que como agentes ofensivos puede facilitar un ataque y representa un riesgo real para la empresa dada la disponibilidad de esta información.

Inclusivo hay casos en los que es pertinente pausar la prueba para reportar un hallazgo crítico expuesto en alguna fuente pública.

### Enumeración de Infraestructura

> En esta sección se busca mapear toda la infraestructura del objetivo, de modo que tengamos una mejor idea del rol de los dispositivos descubiertos y su disposición lógica en la organización, esto con el apoyo del reconocimiento OSINT y reconocimientos activos.

Por ejemplo, queremos enumerar y distinguir servidores de correos, servidores web, instancias de la nube, servidores internos, servidores DNS, controles, etc. Sobre todo, se comparan nuestros descubrimientos con el ***alcance de la prueba*** para descartar todos aquellos dispositivos que no tenemos autorizado poner a prueba.

Es importante enfatizar la importancia de ==determinar los controles defensivos== durante esta sección, como *Firewall's*, *WAF* y demás en la infraestructura, facilitando la ***evasión*** de estos bajo la experimentación de formas de burlarlos.

Además, usualmente en etapas de Post-Explotación, buscamos enumerar la **infraestructura interna** de la organización, que no suele estar expuesta al Internet, pues muchas veces se tiene una falsa percepción de seguridad y no se toman medidas de seguridad adecuadas.

### Enumeración de Servicios

> Durante este tipo de enumeración, identificamos los servicios que nos permiten interactuar con los distintos servidores y dispositivos en la infraestructura. Además, es crucial identificar los datos inmediatos más importantes como su versión, su función y cualquier información que nos provea de forma inmediata.

De muchos servicios podemos incluso extraer un historia de versiones que nos permita identificar más exactamente las posibles vulnerabilidades no remediadas presentes en la versión instalada.

Esto es así porque muchas veces se teme actualizar el *software*, por temas de compatibilidad con otra aplicación u recurso.

### Enumeración de los Dispositivos

> Una vez que tenemos una idea general de la infraestructura y de los servicios activos de cada dispositivo, procedemos a realizar una **enumeración más extensa** sobre cada dispositivo en la infraestructura.

Se intenta identificar detalles como el sistema operativo del dispositivo, puertos, los servicios externos e internos, las versiones e interacciones con este, vulnerabilidades, malas configuraciones, etc.

De igual manera, en procesos de **Post-Explotación**, buscamos identificar vulnerabilidades internas, archivos importantes, aplicaciones y demás información que podría facilitarnos el escalamiento de privilegios o simplemente representar una amenaza contra la ***confidencialidad***.

Esto último da lugar a una subfase denominada ***Pillaging***, o *saqueo*.

#### Pillaging

> Típico de la **Post-Explotación** como se dijo antes, consiste en recolectar toda la información sensible de un dispositivo comprometido, como nombres de empleados, contraseñas, datos de clientes, etc.

Por supuesto, la información obtenida varía según el rol del dispositivo en la infraestructura, la ubicación en el equipo y hasta el tipo de organización, por lo que se evalua el impacto que tendría de exfiltrarse.

---

A lo largo de estas todas estas secciones se manejan tanto acercamientos ***pasivos*** que hacen referencia a la recopilación de información ***sin contacto con el objetivo***, estrechamente relacionados al ***Reconocimiento OSINT***, como por otra parte acercamientos ***activos***, que se refieren a cualquier recopilación de información donde se ***interactua directamente con el objetivo***, como lo pueden ser escaneos de puertos, interacciones con los servicios, etc.

# Enlaces

[<- Anterior](Precompromiso.md) | [Siguiente ->](Evaluacion.md)