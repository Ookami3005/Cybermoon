[<- Índice](../../../Pentesting.md)
# Protocolos de Administración Remota Windows

La **administración remota** en dispositivos *Windows* se encuentra preconfigurada y habilitada por defecto en versiones *Windows* de servidor a partir de **Windows Server 2016**.

Se considera incluso un componente esencial de la ==*suite* de administración de *hardware* *Windows*== que permite gestionar tanto local como remotamente el *hardware* de los dispositivos.

Entre estas funcionalidades, incluye una implementación del protocolo **WS-Management**, diagnosticos de *hardware* y control de la placa base mediante *drivers* y controladores.
Esta *suite* también incluye una **API COM** y varios *scripts* y objetos que permiten el desarrollo de aplicaciones que se comuniquen remotamente mediante el protocolo **WS-Management**.

En general, la administración remota convencional de *Windows* y *Windows Server* se realiza principalmente con apoyo de los siguientes protocolos:

- ***RDP*** (*Remote Desktop Protocol*)
- ***WinRM*** (*Windows Remote Management*)
- ***WMI*** (*Windows Management Instrumentation*)

## Remote Desktop Protocol

> ***RDP*** es un protocolo desarrollado por *Microsoft* para el acceso remoto a computadoras *Windows*.
> Este protocolo permite compartir y transmitir el **entorno gráfico** del equipo remoto a través de la red, mediante una comunicación cifrada.

**RDP** funciona en la capa de aplicación del modelo **TCP/IP** y típicamente se encuentra a la escucha en el puerto *TCP* **3389** aunque algunas implementaciones del protocolo también permiten la administración mediante el protocolo *UDP* en el mismo puerto, **3389**.

Para que pueda establecerse una conexión **RDP**, tanto el *Firewall* del cliente como el del servidor deben permitir conexiones **externas**.
Además, en caso de atravesar cualquier mecanismo de **NAT** (*Network Address Translation*), el servidor o equipo remoto debe conocer la *IP* pública adecuada para alcanzar el cliente y el *router NAT* presente debe configurarse adecuadamente para realizar la **redirección de puertos** al equipo correcto.